// Copyright (C) 2012-2013 STAR MICRONICS CO., LTD. All Rights Reserved.
var StarBarcodeEncoder=function(){};StarBarcodeEncoder.prototype.createUPCE=function(e){var t="0001101 0011001 0010011 0111101 0100011 0110001 0101111 0111011 0110111 0001011".split(" "),i="0100111 0110011 0011011 0100001 0011101 0111001 0000101 0010001 0001001 0010111".split(" ");if(e=e.data,11!=e.length&&12!=e.length)throw Error("Data length is invalid.");if(e.match(/[^0-9]/g))throw Error("Data is invalid.");12==e.length&&(e=e.substring(0,11));for(var n=0,a=0;11>a;a++)n=a%2?n+parseInt(e.charAt(a)):n+3*parseInt(e.charAt(a));for((n%=10)&&(n=10-n),n="1110000 1101000 1100100 1100010 1011000 1001100 1000110 1010100 1010010 1001010".split(" ")[n],a="101";;){if("0"==e.charAt(0)&&"0"==e.charAt(6)&&"0"==e.charAt(7)){if("0"==e.charAt(4)&&"0"==e.charAt(5)){if("0"<=e.charAt(3)&&"2">=e.charAt(3)){a="0"==n[0]?a+t[parseInt(e.charAt(1))]:a+i[parseInt(e.charAt(1))],a="0"==n[1]?a+t[parseInt(e.charAt(2))]:a+i[parseInt(e.charAt(2))],a="0"==n[2]?a+t[parseInt(e.charAt(8))]:a+i[parseInt(e.charAt(8))],a="0"==n[3]?a+t[parseInt(e.charAt(9))]:a+i[parseInt(e.charAt(9))],a="0"==n[4]?a+t[parseInt(e.charAt(10))]:a+i[parseInt(e.charAt(10))],a="0"==n[5]?a+t[parseInt(e.charAt(3))]:a+i[parseInt(e.charAt(3))];break}if("0"==e.charAt(8)){a="0"==n[0]?a+t[parseInt(e.charAt(1))]:a+i[parseInt(e.charAt(1))],a="0"==n[1]?a+t[parseInt(e.charAt(2))]:a+i[parseInt(e.charAt(2))],a="0"==n[2]?a+t[parseInt(e.charAt(3))]:a+i[parseInt(e.charAt(3))],a="0"==n[3]?a+t[parseInt(e.charAt(9))]:a+i[parseInt(e.charAt(9))],a="0"==n[4]?a+t[parseInt(e.charAt(10))]:a+i[parseInt(e.charAt(10))],a="0"==n[5]?a+t[3]:a+i[3];break}}if("0"==e.charAt(8)&&"0"==e.charAt(9)){if("0"==e.charAt(5)){a="0"==n[0]?a+t[parseInt(e.charAt(1))]:a+i[parseInt(e.charAt(1))],a="0"==n[1]?a+t[parseInt(e.charAt(2))]:a+i[parseInt(e.charAt(2))],a="0"==n[2]?a+t[parseInt(e.charAt(3))]:a+i[parseInt(e.charAt(3))],a="0"==n[3]?a+t[parseInt(e.charAt(4))]:a+i[parseInt(e.charAt(4))],a="0"==n[4]?a+t[parseInt(e.charAt(10))]:a+i[parseInt(e.charAt(10))],a="0"==n[5]?a+t[4]:a+i[4];break}if("5"<=e.charAt(10)&&"9">=e.charAt(10)){a="0"==n[0]?a+t[parseInt(e.charAt(1))]:a+i[parseInt(e.charAt(1))],a="0"==n[1]?a+t[parseInt(e.charAt(2))]:a+i[parseInt(e.charAt(2))],a="0"==n[2]?a+t[parseInt(e.charAt(3))]:a+i[parseInt(e.charAt(3))],a="0"==n[3]?a+t[parseInt(e.charAt(4))]:a+i[parseInt(e.charAt(4))],a="0"==n[4]?a+t[parseInt(e.charAt(5))]:a+i[parseInt(e.charAt(5))],a="0"==n[5]?a+t[parseInt(e.charAt(10))]:a+i[parseInt(e.charAt(10))];break}}}throw Error("Data is invalid.")}return a+"010101"},StarBarcodeEncoder.prototype.createUPCA=function(e){var t="0001101 0011001 0010011 0111101 0100011 0110001 0101111 0111011 0110111 0001011".split(" "),i="1110010 1100110 1101100 1000010 1011100 1001110 1010000 1000100 1001000 1110100".split(" ");if(e=e.data,11!=e.length&&12!=e.length)throw Error("Data length is invalid.");if(e.match(/[^0-9]/g))throw Error("Data is invalid.");for(var n=0,a=0;11>a;a++)n=a%2?n+parseInt(e.charAt(a)):n+3*parseInt(e.charAt(a));(n%=10)&&(n=10-n);for(var s="101",a=0;6>a;a++)s+=t[parseInt(e.charAt(a))];for(s+="01010",a=6;11>a;a++)s+=i[parseInt(e.charAt(a))];return s+=i[n],s+"101"},StarBarcodeEncoder.prototype.createJAN8=function(e){var t="0001101 0011001 0010011 0111101 0100011 0110001 0101111 0111011 0110111 0001011".split(" "),i="1110010 1100110 1101100 1000010 1011100 1001110 1010000 1000100 1001000 1110100".split(" ");if(e=e.data,7!=e.length&&8!=e.length)throw Error("Data length is invalid.");if(e.match(/[^0-9]/g))throw Error("Data is invalid.");for(var n=0,a=0;7>a;a++)n=a%2?n+parseInt(e.charAt(a)):n+3*parseInt(e.charAt(a));(n%=10)&&(n=10-n);for(var s="101",a=0;4>a;a++)s+=t[parseInt(e.charAt(a))];for(s+="01010",a=4;7>a;a++)s+=i[parseInt(e.charAt(a))];return s+=i[n],s+"101"},StarBarcodeEncoder.prototype.createJAN13=function(e){var t="0001101 0011001 0010011 0111101 0100011 0110001 0101111 0111011 0110111 0001011".split(" "),i="0100111 0110011 0011011 0100001 0011101 0111001 0000101 0010001 0001001 0010111".split(" "),n="1110010 1100110 1101100 1000010 1011100 1001110 1010000 1000100 1001000 1110100".split(" ");if(e=e.data,12!=e.length&&13!=e.length)throw Error("Data length is invalid.");if(e.match(/[^0-9]/g))throw Error("Data is invalid.");for(var a=0,s=0;12>s;s++)a=s%2?a+3*parseInt(e.charAt(s)):a+parseInt(e.charAt(s));(a%=10)&&(a=10-a);for(var r="101",o="0000000 0001011 0001101 0001110 0010011 0011001 0011100 0010101 0010110 0011010".split(" ")[parseInt(e.charAt(0))],s=1;7>s;s++)r="0"==o[s]?r+t[parseInt(e.charAt(s))]:r+i[parseInt(e.charAt(s))];for(r+="01010",s=7;12>s;s++)r+=n[parseInt(e.charAt(s))];return r+=n[a],r+"101"},StarBarcodeEncoder.prototype.createCode39=function(e){var t="NwWnNnWnNn    NwNwNwNnNn NnNwNwNwNn      NwNnNwNwNn  NwNnNnWnWn WwNnNnWnNn NwNwNnNwNn NnNwWnWnNn WnNwNnNnWn NnWwNnNnWn WnWwNnNnNn NnNwWnNnWn WnNwWnNnNn NnWwWnNnNn NnNwNnWnWn WnNwNnWnNn NnWwNnWnNn        WnNnNwNnWn NnWnNwNnWn WnWnNwNnNn NnNnWwNnWn WnNnWwNnNn NnWnWwNnNn NnNnNwWnWn WnNnNwWnNn NnWnNwWnNn NnNnWwWnNn WnNnNnNwWn NnWnNnNwWn WnWnNnNwNn NnNnWnNwWn WnNnWnNwNn NnWnWnNwNn NnNnNnWwWn WnNnNnWwNn NnWnNnWwNn NnNnWnWwNn WwNnNnNnWn NwWnNnNnWn WwWnNnNnNn NwNnWnNnWn WwNnWnNnNn NwWnWnNnNn".split(" ");if(e=e.data,0==e.length)throw Error("Data length is invalid.");if(e.match(/[^ \$\%\+\-\.\/0-9A-Z]/g))throw Error("Data is invalid.");for(var i="NwNnWnWnNn",n=0;n<e.length;n++)i+=t[e.charCodeAt(n)-32];return i+"NwNnWnWnN"},StarBarcodeEncoder.prototype.createITF=function(e){var t="NNWWN WNNNW NWNNW WWNNN NNWNW WNWNN NWWNN NNNWW WNNWN NWNWN".split(" "),i="nnwwn wnnnw nwnnw wwnnn nnwnw wnwnn nwwnn nnnww wnnwn nwnwn".split(" ");if(e=e.data,0==e.length)throw Error("Data length is invalid.");if(e.match(/[^0-9]/g))throw Error("Data is invalid.");e.length%2&&(e="0"+e);for(var n="NnNn",a=0;a<e.length;a+=2)var s=t[parseInt(e.charAt(a))],r=i[parseInt(e.charAt(a+1))],n=n+s.charAt(0),n=n+r.charAt(0),n=n+s.charAt(1),n=n+r.charAt(1),n=n+s.charAt(2),n=n+r.charAt(2),n=n+s.charAt(3),n=n+r.charAt(3),n=n+s.charAt(4),n=n+r.charAt(4);return n+"WnN"},StarBarcodeEncoder.prototype.createCode128=function(e){var t="11011001100 11001101100 11001100110 10010011000 10010001100 10001001100 10011001000 10011000100 10001100100 11001001000 11001000100 11000100100 10110011100 10011011100 10011001110 10111001100 10011101100 10011100110 11001110010 11001011100 11001001110 11011100100 11001110100 11101101110 11101001100 11100101100 11100100110 11101100100 11100110100 11100110010 11011011000 11011000110 11000110110 10100011000 10001011000 10001000110 10110001000 10001101000 10001100010 11010001000 11000101000 11000100010 10110111000 10110001110 10001101110 10111011000 10111000110 10001110110 11101110110 11010001110 11000101110 11011101000 11011100010 11011101110 11101011000 11101000110 11100010110 11101101000 11101100010 11100011010 11101111010 11001000010 11110001010 10100110000 10100001100 10010110000 10010000110 10000101100 10000100110 10110010000 10110000100 10011010000 10011000010 10000110100 10000110010 11000010010 11001010000 11110111010 11000010100 10001111010 10100111100 10010111100 10010011110 10111100100 10011110100 10011110010 11110100100 11110010100 11110010010 11011011110 11011110110 11110110110 10101111000 10100011110 10001011110 10111101000 10111100010 11110101000 11110100010 10111011110 10111101110 11101011110 11110101110 11010000100 11010010000 11010011100 11000111010".split(" "),i=e.data;if(2>i.length)throw Error("Data length is invalid.");if(i.match(/[^\x00-\x7f]/g))throw Error("Data is invalid.");if("{"!=i.charAt(0))throw Error("Data is invalid.");var n=1;switch(i.charAt(1)){case"A":n=0;break;case"B":break;case"C":n=2;break;default:throw Error("Data is invalid.")}e=String.fromCharCode(n+103);for(var a=2;a<i.length;a++){var s=i.charAt(a);if("{"==s){if(a++,a>=i.length)throw Error("Data is invalid.");switch(s=i.charAt(a),n){case 3:if(n=1,"S"==s)throw Error("Data is invalid.");default:switch(s){case"1":e+=String.fromCharCode(102);break;case"2":e+=String.fromCharCode(97);break;case"3":e+=String.fromCharCode(96);break;case"4":e+=String.fromCharCode(101);break;case"B":e+=String.fromCharCode(100),n=1;break;case"C":e+=String.fromCharCode(99),n=2;break;case"S":e+=String.fromCharCode(98),n=4;break;default:throw Error("Data is invalid.")}break;case 4:if(n=0,"S"==s)throw Error("Data is invalid.");case 1:switch(s){case"1":e+=String.fromCharCode(102);break;case"2":e+=String.fromCharCode(97);break;case"3":e+=String.fromCharCode(96);break;case"4":e+=String.fromCharCode(100);break;case"A":e+=String.fromCharCode(101),n=0;break;case"C":e+=String.fromCharCode(99),n=2;break;case"S":e+=String.fromCharCode(98),n=3;break;case"{":e+=String.fromCharCode(91);break;default:throw Error("Data is invalid.")}break;case 2:switch(s){case"1":e+=String.fromCharCode(102);break;case"A":e+=String.fromCharCode(101),n=0;break;case"B":e+=String.fromCharCode(100),n=1;break;default:throw Error("Data is invalid.")}}}else{var r=s.charCodeAt(0);switch(n){case 3:n=1;default:if(r>=0&&31>=r)e+=String.fromCharCode(r+64);else{if(!(r>=32&&95>=r))throw Error("Data is invalid.");e+=String.fromCharCode(r-32)}break;case 4:n=0;case 1:if(!(r>=32&&127>=r))throw Error("Data is invalid.");e+=String.fromCharCode(r-32);break;case 2:if(!(r>=0&&99>=r))throw Error("Data is invalid.");e+=s}}}for(i=e.charCodeAt(0),i%=103,a=1;a<e.length;a++)for(r=e.charCodeAt(a),n=0;a>n;n++)i+=r,i%=103;for(e+=String.fromCharCode(i),e+=String.fromCharCode(106),r="",a=0;a<e.length;a++)r+=t[e.charCodeAt(a)];return r+"11"},StarBarcodeEncoder.prototype.createCode93=function(e){var t=[4430,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4320,4321,4322,4323,4324,4325,4326,4327,4328,4329,4330,4331,4332,4333,4334,4335,4410,4411,4412,4413,4414,38,4510,4511,4512,39,42,4515,4516,4517,4518,4519,41,4521,36,37,40,0,1,2,3,4,5,6,7,8,9,4535,4415,4416,4417,4418,4419,4431,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,4420,4421,4422,4423,4424,4432,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4425,4426,4427,4428,4429],i="100010100 101001000 101000100 101000010 100101000 100100100 100100010 101010000 100010010 100001010 110101000 110100100 110100010 110010100 110010010 110001010 101101000 101100100 101100010 100110100 100011010 101011000 101001100 101000110 100101100 100010110 110110100 110110010 110101100 110100110 110010110 110011010 101101100 101100110 100110110 100111010 100101110 111010100 111010010 111001010 101101110 101110110 110101110 100100110 111011010 111010110 100110010 101011110".split(" "),n=e.data;if(0==n.length)throw Error("Data length is invalid.");if(n.match(/[^\x00-\x7f]/g))throw Error("Data is invalid.");e=String.fromCharCode(47);for(var a=0;a<n.length;a++){var s=t[n.charCodeAt(a)];s>=100&&(e+=String.fromCharCode(s/100)),e+=String.fromCharCode(s%100)}for(t=0,a=1;a<e.length;a++)for(s=e.charCodeAt(a),n=(e.length-a-1)%20+1;n;n--)t+=s,t%=47;for(e+=String.fromCharCode(t),t=0,a=1;a<e.length;a++)for(s=e.charCodeAt(a),n=(e.length-a-1)%15+1;n;n--)t+=s,t%=47;for(e+=String.fromCharCode(t),e+=String.fromCharCode(47),s="",a=0;a<e.length;a++)s+=i[e.charCodeAt(a)];return s+"1"},StarBarcodeEncoder.prototype.createNW7=function(e){var t="    NnWwNnNn       NnWnWnWn  NnNwWnNn WnWnWnNn WnWnNnWn NnNnNwWn NnNnWwNn NnNwNnWn WwNnNnNn NnWnNwNn WnNnNwNn NwNnNnWn NwNnWnNn NwWnNnNn WnNwNnNn WnNnWnWn       NnWwNwNn NwNwNnWn NnNwNwWn NnNwWwNn                             NnWwNwNn NwNwNnWn NnNwNwWn NnNwWwNn".split(" ");if(e=e.data,0==e.length)throw Error("Data length is invalid.");if(e.match(/[^\$\+\-\.\/0-9\:A-Da-d]/g))throw Error("Data is invalid.");for(var i="",n=0;n<e.length;n++)i+=t[e.charCodeAt(n)-32];return i.slice(0,-1)};