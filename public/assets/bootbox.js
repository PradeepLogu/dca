window.bootbox=window.bootbox||function e(t,i){"use strict";function n(e){var t=v[m.locale];return t?t[e]:v.en[e]}function a(e,i,n){e.preventDefault();var a=t.isFunction(n)&&n(e)===!1;a||i.modal("hide")}function s(e){var t,i=0;for(t in e)i++;return i}function r(e,i){var n=0;t.each(e,function(e,t){i(e,t,n++)})}function o(e){var i,n;if("object"!=typeof e)throw new Error("Please supply an object of options");if(!e.message)throw new Error("Please specify a message");return e=t.extend({},m,e),e.buttons||(e.buttons={}),e.backdrop=e.backdrop?"static":!1,i=e.buttons,n=s(i),r(i,function(e,a,s){if(t.isFunction(a)&&(a=i[e]={callback:a}),"object"!==t.type(a))throw new Error("button with key "+e+" must be an object");a.label||(a.label=e),a.className||(a.className=2>=n&&s===n-1?"btn-primary":"btn-default")}),e}function l(e,t){var i=e.length,n={};if(1>i||i>2)throw new Error("Invalid argument length");return 2===i||"string"==typeof e[0]?(n[t[0]]=e[0],n[t[1]]=e[1]):n=e[0],n}function u(e,i,n){return t.extend(!0,{},e,l(i,n))}function c(e,t,i,n){var a={className:"bootbox-"+e,buttons:d.apply(null,t)};return h(u(a,n,i),t)}function d(){for(var e={},t=0,i=arguments.length;i>t;t++){var a=arguments[t],s=a.toLowerCase(),r=a.toUpperCase();e[s]={label:n(r)}}return e}function h(e,t){var n={};return r(t,function(e,t){n[t]=!0}),r(e.buttons,function(e){if(n[e]===i)throw new Error("button key "+e+" is not allowed (options are "+t.join("\n")+")")}),e}var p={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>"}},f=t("body"),m={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0},g={};g.alert=function(){var e;if(e=c("alert",["ok"],["message","callback"],arguments),e.callback&&!t.isFunction(e.callback))throw new Error("alert requires callback property to be a function when provided");return e.buttons.ok.callback=e.onEscape=function(){return t.isFunction(e.callback)?e.callback():!0},g.dialog(e)},g.confirm=function(){var e;if(e=c("confirm",["cancel","confirm"],["message","callback"],arguments),e.buttons.cancel.callback=e.onEscape=function(){return e.callback(!1)},e.buttons.confirm.callback=function(){return e.callback(!0)},!t.isFunction(e.callback))throw new Error("confirm requires a callback");return g.dialog(e)},g.prompt=function(){var e,n,a,s,o,l,c;if(s=t(p.form),n={className:"bootbox-prompt",buttons:d("cancel","confirm"),value:"",inputType:"text"},e=h(u(n,arguments,["title","callback"]),["cancel","confirm"]),l=e.show===i?!0:e.show,e.message=s,e.buttons.cancel.callback=e.onEscape=function(){return e.callback(null)},e.buttons.confirm.callback=function(){var i;switch(e.inputType){case"text":case"email":case"select":i=o.val();break;case"checkbox":var n=o.find("input:checked");i=[],r(n,function(e,n){i.push(t(n).val())})}return e.callback(i)},e.show=!1,!e.title)throw new Error("prompt requires a title");if(!t.isFunction(e.callback))throw new Error("prompt requires a callback");if(!p.inputs[e.inputType])throw new Error("invalid prompt type");switch(o=t(p.inputs[e.inputType]),e.inputType){case"text":case"email":o.val(e.value);break;case"select":var f={};if(c=e.inputOptions||[],!c.length)throw new Error("prompt with select requires options");r(c,function(e,n){var a=o;if(n.value===i||n.text===i)throw new Error("given options in wrong format");n.group&&(f[n.group]||(f[n.group]=t("<optgroup/>").attr("label",n.group)),a=f[n.group]),a.append("<option value='"+n.value+"'>"+n.text+"</option>")}),r(f,function(e,t){o.append(t)}),o.val(e.value);break;case"checkbox":var m=t.isArray(e.value)?e.value:[e.value];if(c=e.inputOptions||[],!c.length)throw new Error("prompt with checkbox requires options");if(!c[0].value||!c[0].text)throw new Error("given options in wrong format");o=t("<div/>"),r(c,function(i,n){var a=t(p.inputs[e.inputType]);a.find("input").attr("value",n.value),a.find("label").append(n.text),r(m,function(e,t){t===n.value&&a.find("input").prop("checked",!0)}),o.append(a)})}return e.placeholder&&o.attr("placeholder",e.placeholder),s.append(o),s.on("submit",function(e){e.preventDefault(),a.find(".btn-primary").click()}),a=g.dialog(e),a.off("shown.bs.modal"),a.on("shown.bs.modal",function(){o.focus()}),l===!0&&a.modal("show"),a},g.dialog=function(e){e=o(e);var i=t(p.dialog),n=i.find(".modal-body"),s=e.buttons,l="",u={onEscape:e.onEscape};if(r(s,function(e,t){l+="<button data-bb-handler='"+e+"' type='button' class='btn "+t.className+"'>"+t.label+"</button>",u[e]=t.callback}),n.find(".bootbox-body").html(e.message),e.animate===!0&&i.addClass("fade"),e.className&&i.addClass(e.className),e.title&&n.before(p.header),e.closeButton){var c=t(p.closeButton);e.title?i.find(".modal-header").prepend(c):c.css("margin-top","-10px").prependTo(n)}return e.title&&i.find(".modal-title").html(e.title),l.length&&(n.after(p.footer),i.find(".modal-footer").html(l)),i.on("hidden.bs.modal",function(e){e.target===this&&i.remove()}),i.on("shown.bs.modal",function(){i.find(".btn-primary:first").focus()}),i.on("escape.close.bb",function(e){u.onEscape&&a(e,i,u.onEscape)}),i.on("click",".modal-footer button",function(e){var n=t(this).data("bb-handler");a(e,i,u[n])}),i.on("click",".bootbox-close-button",function(e){a(e,i,u.onEscape)}),i.on("keyup",function(e){27===e.which&&i.trigger("escape.close.bb")}),f.append(i),i.modal({backdrop:e.backdrop,keyboard:!1,show:!1}),e.show&&i.modal("show"),i},g.setDefaults=function(){var e={};2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],t.extend(m,e)},g.hideAll=function(){t(".bootbox").modal("hide")};var v={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd\u017a"},ru:{OK:"OK",CANCEL:"\u041e\u0442\u043c\u0435\u043d\u0430",CONFIRM:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"},zh_CN:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u786e\u8ba4"},zh_TW:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u78ba\u8a8d"}};return g.init=function(i){window.bootbox=e(i||t)},g}(window.jQuery);