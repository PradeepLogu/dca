(function(){!function(e){return e.easyPieChart=function(t,i){var n,a,s,r,o,l,c,u=this;return this.el=t,this.$el=e(t),this.$el.data("easyPieChart",this),this.init=function(){var t;return u.options=e.extend({},e.easyPieChart.defaultOptions,i),t=parseInt(u.$el.data("percent"),10),u.percentage=0,u.canvas=e("<canvas width='"+u.options.size+"' height='"+u.options.size+"'></canvas>").get(0),u.$el.append(u.canvas),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(u.canvas),u.ctx=u.canvas.getContext("2d"),u.ctx.translate(u.options.size/2,u.options.size/2),u.$el.addClass("easyPieChart"),u.$el.css({width:u.options.size,height:u.options.size,lineHeight:""+u.options.size+"px"}),u.update(t),u},this.update=function(e){return u.options.animate===!1?s(e):a(u.percentage,e)},l=function(){var e,t,i;for(u.ctx.fillStyle=u.options.scaleColor,u.ctx.lineWidth=1,i=[],e=t=0;24>=t;e=++t)i.push(n(e));return i},n=function(e){var t;return t=e%6===0?0:.017*u.options.size,u.ctx.save(),u.ctx.rotate(e*Math.PI/12),u.ctx.fillRect(u.options.size/2-t,0,.05*-u.options.size+t,1),u.ctx.restore()},c=function(){var e;return e=u.options.size/2-u.options.lineWidth/2,u.options.scaleColor!==!1&&(e-=.08*u.options.size),u.ctx.beginPath(),u.ctx.arc(0,0,e,0,2*Math.PI,!0),u.ctx.closePath(),u.ctx.strokeStyle=u.options.trackColor,u.ctx.lineWidth=u.options.lineWidth,u.ctx.stroke()},o=function(){return u.options.scaleColor!==!1&&l(),u.options.trackColor!==!1?c():void 0},s=function(t){var i;return o(),u.ctx.strokeStyle=e.isFunction(u.options.barColor)?u.options.barColor(t):u.options.barColor,u.ctx.lineCap=u.options.lineCap,i=u.options.size/2-u.options.lineWidth/2,u.options.scaleColor!==!1&&(i-=.08*u.options.size),u.ctx.save(),u.ctx.rotate(-Math.PI/2),u.ctx.beginPath(),u.ctx.arc(0,0,i,0,2*Math.PI*t/100,!1),u.ctx.stroke(),u.ctx.restore()},a=function(e,t){var i,n,a;return n=30,a=n*u.options.animate/1e3,i=0,u.options.onStart.call(u),u.percentage=t,u.animation&&(clearInterval(u.animation),u.animation=!1),u.animation=setInterval(function(){return u.ctx.clearRect(-u.options.size/2,-u.options.size/2,u.options.size,u.options.size),o.call(u),s.call(u,[r(i,e,t-e,a)]),i++,i/a>1?(clearInterval(u.animation),u.animation=!1,u.options.onStop.call(u)):void 0},1e3/n)},r=function(e,t,i,n){return e/=n/2,1>e?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t},this.init()},e.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",size:110,lineWidth:3,animate:!1,onStart:e.noop,onStop:e.noop},void(e.fn.easyPieChart=function(t){return e.each(this,function(i,n){var a;return a=e(n),a.data("easyPieChart")?void 0:a.data("easyPieChart",new e.easyPieChart(n,t))})})}(jQuery)}).call(this);