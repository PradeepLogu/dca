!function(e){function t(t,i,o){var l=t.success,c=e.extend({},t.data||{},{"start-min":n(i,"u"),"start-max":n(o,"u"),singleevents:!0,"max-results":9999}),u=t.currentTimezone;return u&&(c.ctz=u=u.replace(" ","_")),e.extend({},t,{url:t.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:c,startParam:!1,endParam:!1,success:function(t){var i=[];t.feed.entry&&e.each(t.feed.entry,function(t,n){var r,o=n.gd$when[0].startTime,l=a(o,!0),c=a(n.gd$when[0].endTime,!0),h=-1==o.indexOf("T");e.each(n.link,function(e,t){"text/html"==t.type&&(r=t.href,u&&(r+=(-1==r.indexOf("?")?"?":"&")+"ctz="+u))}),h&&s(c,-1),i.push({id:n.gCal$uid.value,title:n.title.$t,url:r,start:l,end:c,allDay:h,location:n.gd$where[0].valueString,description:n.content.$t})});var n=[i].concat(Array.prototype.slice.call(arguments,1)),o=r(l,this,n);return e.isArray(o)?o:i}})}var i=e.fullCalendar,n=i.formatDate,a=i.parseISO8601,s=i.addDays,r=i.applyAll;i.sourceNormalizers.push(function(e){("gcal"==e.dataType||void 0===e.dataType&&(e.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))&&(e.dataType="gcal",void 0===e.editable&&(e.editable=!1))}),i.sourceFetchers.push(function(e,i,n){return"gcal"==e.dataType?t(e,i,n):void 0}),i.gcalFeed=function(t,i){return e.extend({},i,{url:t,dataType:"gcal"})}}(jQuery);