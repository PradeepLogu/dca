!function(e){"use strict";var t=function(e,t,i){for(var n=0,a=t.length;a>n;n++)e=e[t[n]]=e[t[n]]||n==a-1?i:{}};e.fn.toggleButtons=function(i){var n,a,s,r=.05,o={init:function(i){return this.each(function(){var o,l,c,u,d={};n=e(this),n.addClass("toggle-button"),e.each(n.data(),function(i,n){var a,s={};0===i.indexOf("togglebutton")&&(a=i.match(/[A-Z][a-z]+/g),a=e.map(a,function(e){return e.toLowerCase()}),t(s,a,n),d=e.extend(!0,d,s))}),c=e.extend(!0,{},e.fn.toggleButtons.defaults,i,d),e(this).data("options",c),o=e("<span></span>").addClass("labelLeft").text(void 0===c.label.enabled?"ON":c.label.enabled),l=e("<span></span>").addClass("labelRight").text(void 0===c.label.disabled?"OFF ":c.label.disabled),s=n.find("input:checkbox"),a=s.wrap(e("<div></div>")).parent(),a.append(o),a.append(e("<label></label>").prop("for",s.prop("id")||"")),a.append(l),s.is(":checked")?n.find(">div").css("left","0"):n.find(">div").css("left","-50%"),c.animated?void 0!==c.transitionspeed&&(r=/^(\d*%$)/.test(c.transitionspeed)?.05*parseInt(c.transitionspeed)/100:c.transitionspeed):r=0,e(this).data("transitionSpeed",1e3*r),c.width/=2,n.css("width",2*c.width).find(">div").css("width",3*c.width).find(">span, >label").css("width",c.width),n.css("height",c.height).find("span, label").css("height",c.height).filter("span").css("line-height",c.height+"px"),s.is(":disabled")&&e(this).addClass("deactivate"),n.find("span").css(c.font),void 0===c.style.enabled?void 0!==c.style.custom&&void 0!==c.style.custom.enabled&&void 0!==c.style.custom.enabled.background&&(o.css("color",c.style.custom.enabled.color),void 0===c.style.custom.enabled.gradient?o.css("background",c.style.custom.enabled.background):e.each(["-webkit-","-moz-","-o-",""],function(e,t){o.css("background-color",c.style.custom.enabled.background),o.css("background-image",t+"linear-gradient(top, "+c.style.custom.enabled.background+","+c.style.custom.enabled.gradient+")")})):o.addClass(c.style.enabled),void 0===c.style.disabled?void 0!==c.style.custom&&void 0!==c.style.custom.disabled&&void 0!==c.style.custom.disabled.background&&(l.css("color",c.style.custom.disabled.color),void 0===c.style.custom.disabled.gradient?l.css("background",c.style.custom.disabled.background):e.each(["-webkit-","-moz-","-o-",""],function(e,t){l.css("background-color",c.style.custom.disabled.background),l.css("background-image",t+"linear-gradient(top, "+c.style.custom.disabled.background+","+c.style.custom.disabled.gradient+")")})):l.addClass(c.style.disabled);var h=function(e){e.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};o.on("click",function(){h(e(this))}),l.on("click",function(){h(e(this))}),n.find("input:checkbox").on("change",function(t,i){var n=e(this).parent(),a=e(this).is(":checked"),s=e(this).closest(".toggle-button");n.stop().animate({left:a?"0":"-50%"},s.data("transitionSpeed")),c=s.data("options"),i||c.onChange(n,a,t)}),n.find("label").on("mousedown touchstart",function(t){u=!1,t.preventDefault(),t.stopImmediatePropagation(),e(this).closest(".toggle-button").is(".deactivate")?e(this).off("click"):(e(this).on("mousemove touchmove",function(t){var i=e(this).closest(".toggle-button"),n=(t.pageX||t.originalEvent.targetTouches[0].pageX)-i.offset().left,a=n/(2*c.width)*100;u=!0,t.stopImmediatePropagation(),t.preventDefault(),25>a?a=25:a>75&&(a=75),i.find(">div").css("left",a-75+"%")}),e(this).on("click touchend",function(t){var i=e(t.target),n=i.siblings("input:checkbox");t.stopImmediatePropagation(),t.preventDefault(),e(this).off("mouseleave"),u?parseInt(e(this).parent().css("left"))<-25?n.prop("checked",!1):n.prop("checked",!0):n.prop("checked",!n.is(":checked")),n.trigger("change")}),e(this).on("mouseleave",function(t){var i=e(this).siblings("input:checkbox");t.preventDefault(),t.stopImmediatePropagation(),e(this).off("mouseleave"),e(this).trigger("mouseup"),parseInt(e(this).parent().css("left"))<-25?i.prop("checked",!1):i.prop("checked",!0),i.trigger("change")}),e(this).on("mouseup",function(t){t.stopImmediatePropagation(),t.preventDefault(),e(this).off("mousemove")}))})}),this},toggleActivation:function(){e(this).toggleClass("deactivate")},toggleState:function(t){var i=e(this).find("input:checkbox");i.prop("checked",!i.is(":checked")).trigger("change",t)},setState:function(t,i){e(this).find("input:checkbox").prop("checked",t).trigger("change",i)},status:function(){return e(this).find("input:checkbox").is(":checked")},destroy:function(){var t,i=e(this).find("div");return i.find(":not(input:checkbox)").remove(),t=i.children(),t.unwrap().unwrap(),t.unbind("change"),t}};return o[i]?o[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist!"):o.init.apply(this,arguments)},e.fn.toggleButtons.defaults={onChange:function(){},width:100,height:25,font:{},animated:!0,transitionspeed:void 0,label:{enabled:void 0,disabled:void 0},style:{enabled:void 0,disabled:void 0,custom:{enabled:{background:void 0,gradient:void 0,color:"#FFFFFF"},disabled:{background:void 0,gradient:void 0,color:"#FFFFFF"}}}}}(jQuery);